<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-50000</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Initialize Debug Console

// Never allow more than 1 controller to exist
if (instance_number(oController) &gt; 1)
{
    instance_destroy();
    exit;
}

global.DBG_ShowAABB = false;
global.DBG_ShowHP = false;
global.DBG_NoClip = false;

debugConsole = ConsoleCreate();

// Commands
ConsoleAddCommand(debugConsole, 'echo', DBG_Echo);
ConsoleAddCommand(debugConsole, 'spawn-test-mobs', DBG_SpawnTestMob);
ConsoleAddCommand(debugConsole, 'dbgo', DBG_ToggleDebugOverlay);
ConsoleAddCommand(debugConsole, 'nr', DBG_GotoNextRoom);
ConsoleAddCommand(debugConsole, 'pr', DBG_GotoPreviousRoom);
ConsoleAddCommand(debugConsole, 'rr', DBG_RestartRoom);
ConsoleAddCommand(debugConsole, 'aabb', DBG_ToggleAABB);
ConsoleAddCommand(debugConsole, 'maxstats', DBG_MaxStats);
ConsoleAddCommand(debugConsole, 'toggle-hp', DBG_ToggleShowHP);
ConsoleAddCommand(debugConsole, 'nc', DBG_ToggleNoClip);
ConsoleAddCommand(debugConsole, 'kill-player', DBG_KillPlayer);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Center Window after resizing it
window_center();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Handle Camera

if (instance_exists(oPlayer))
{
    var viewCenterX = oPlayer.x - view_wview[0] / 2;
    var viewCenterY = oPlayer.y - view_hview[0] / 2;
    var newCamX = 0;
    var newCamY = 0;
    var mx = oCursor.x;
    var my = oCursor.y;
    
    var len = point_distance(oPlayer.x, oPlayer.y, mx, my);
    var dir = point_direction(oPlayer.x, oPlayer.y, mx, my);
    newCamX = lengthdir_x(len * 0.25, dir);
    newCamY = lengthdir_y(len * 0.25, dir);

    view_xview[0] = floor(lerp(view_xview[0], viewCenterX + newCamX, 0.45));
    view_yview[0] = floor(lerp(view_yview[0], viewCenterY + newCamY, 0.45));
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Universal Room Initialization

room_speed = 60;
view_enabled = true;

var metadata = GetCurrentRoom();

// Toast an area if we haven't visited it before
if (ds_list_find_index(global.visitedAreas, metadata[? 'group-id']) &lt; 0)
{
    ds_list_add(global.visitedAreas, metadata[? 'group-id']);
    ToastArea();
}

// Flush uncompleted shrines if we leave an area
if (metadata[? 'group-id'] != global.previousAreaGroupId)
    FlushUncompletedShrines();

global.previousAreaGroupId = metadata[? 'group-id'];

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Cleanup resources

ConsoleDestroy(debugConsole);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// InitializeGame();

InitializeGame();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw Debug
ConsoleDraw(debugConsole);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// DEBUG - Draw AABB

if (global.DBG_ShowAABB)
{
    draw_set_color(c_red);
    with(all)
    {
        draw_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, true);
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="123">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Toggle Debug Console

if (RELEASE_MODE)
    exit;

ConsoleToggle(debugConsole);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="116">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ToastArea();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="115">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var dialogue = CreateDialogue(noone);
AddDialogue(
    dialogue, DSide.Left, sPortraitProtagonist, 'DatZach',
    '\@ff0000Lorem\@00ff00 ipsum\@0000ff dolor\! sit amet, consectetur \$sItemIcons16:4$ adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ' +
    'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\. Duis aute irure dolor in ' +
    'reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt ' +
    'in culpa qui officia deserunt mollit anim id est laborum.'
);
AddDialogue(
    dialogue, DSide.Right, sPortraitProtagonist, '???',
    "Hey, that's pretty cool!"
);
AddDialogue(
    dialogue, DSide.Left, sPortraitProtagonist, 'DatZach',
    '\1Hey, thanks man.'
);
AddDialogueOptions(
    dialogue, DSide.Right, sPortraitProtagonist, 'Cabbage Man', 'Welcome! How may I help you?', Dialogue01_OptionsTest,
    'Talk', 'Take Item', 'Exit'
);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="114">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var shop = CreateShop(
    DSide.Right,
    sPortraitProtagonist,
    'Cabbage Lady',
    bgBackdropTest,
    'Hey there! Got all your cabbage and cabbage accessories right here.'
);

AddShopItem(shop, global.ITEM_Bomb, 5);
AddShopItem(shop, global.ITEM_Smokebomb, 10);
AddShopItem(shop, global.KNICKKNACK_LeafJumperStatue, 10);

AddShopTalk(shop, 'What wares do you buy?', 'I specialize in explosive deals! I also like really rare doo-dads.');
AddShopTalkExt(shop, 'Any local gossip?', TestShop_Talk_GossipInit);
AddShopTalk(shop, 'Item 01', 'Hello, World! 1');
AddShopTalk(shop, 'Item 02', 'Hello, World! 2');
AddShopTalk(shop, 'Item 03', 'Hello, World! 3');
AddShopTalk(shop, 'Item 04', 'Hello, World! 4');
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="113">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>repeat(5)
{
    var xx = choose(irandom_range(oPlayer.x - 80, oPlayer.x - 32), irandom_range(oPlayer.x + 32, oPlayer.x + 80));
    var yy = oPlayer.y - 48;
    
    if (!place_meeting(xx, yy, pStaticSolid))
        instance_create(xx, yy, oMobPerson);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>game_end();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Debug Console Execute
ConsoleExecute(debugConsole);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
